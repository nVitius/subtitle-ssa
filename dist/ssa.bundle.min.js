!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ssa.bundle",[],e):"object"==typeof exports?exports["ssa.bundle"]=e():n["ssa.bundle"]=e()}(global,function(){return function(n){var e={};function t(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t.w={},t(t.s=2)}([function(n,e,t){"use strict";var r=["Marked","Start","End","Style","Name","MarginL","MarginR","MarginV","Effect","Text"];function i(n){var e,t=[36e5,6e4,1e3,1].map(function(t,r){var i=parseInt(n/t);return n-=i*t,n=Math.round(n),(e=i.toString()).length<2&&(e="0"+e),3===r&&e.length<3&&(e="0"+e),e});return t[0]+":"+t[1]+":"+t[2]+"."+t[3].substring(0,2)}function o(){return"[Script Info]\nTitle: Built By https://github.com/padraigfl\nOriginal Script: Likely Someone Else\nScriptType: v4.00\n"}function a(){return"[Events]\nFormat: "+r.reduce(function(n,e){return n+", "+e})+"\n"}var u={Marked:"Marked=0",Name:"NTP",MarginL:"0000",MarginR:"0000",MarginV:"0000",Effect:"!Effect"};function s(n,e,t,o){var a=Object.assign(u,{Start:i(e),End:i(t),Style:o,Text:n?n.replace("\n","\\n"):void 0});return n?"Dialogue: "+r.reduce(function(n,e,t){return n+a[e]+(t!==r.length-1?",":"")},"")+"\n":""}function c(n){return(n.text?s(n.text,n.start,n.end,"primary"):"")+(n.secondaryText?s(n.secondaryText,n.start,n.end,"secondary"):"")}n.exports={buildDialogue:s,buildHeading:o,buildEventsHeading:a,subToSsa:c,toSsa:function(n,e,t){return!Array.isArray(n)&&n.start&&n.end&&(n=[n]),t||(t="[Script Info]\nTitle: Built By https://github.com/padraigfl\nOriginal Script: Likely Someone Else\nScriptType: v4.00\n"),e||(e="[V4 Styles]\nFormat: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour,Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding\nStyle: primary, Tahoma, 24, 16777215, 00000000, 00000000, 00000000, 0, 0, 1, 1, 0, 2, 30, 30, 10, 0, 0\nStyle: secondary, Tahoma, 18, 16777215, 00000000, 00000000, 00000000, 0, 0, 1, 1, 0, 2, 30, 30, 10, 0, 0\n"),t+"\n"+e+"\n"+(a()+n.reduce(function(n,e){return n+c(e)},""))+"\n"},msecToSsaTime:i}},function(n,e,t){"use strict";function r(n){var e=[36e5,6e4,1e3,10];return n.split(/[:.]/g).map(function(n){return parseInt(n)}).reduce(function(n,t,r){return n+t*e[r]},0)}function i(n){var e=n.split(/[\r\n]{4,}|\n{2,}/).slice(2).join("\n");return e=e.split(/[\n\s]*\[\s*Events\s*\][\n\s]*/i).join("").split("\n")}function o(n,e){return e.replace(new RegExp("\\s*"+n+":\\s*","i"),"").split(/,\s*/)}n.exports={parseSsa:function(n,e){var t,a,u,s=i(function(n){return n.replace(/(^[\s\r\n]+)|([\s\r\n]+$)/g,"")}(n)),c=(t=s.shift(),a={},u=o("format",t).map(function(n){return n.toLowerCase()}),a.startIdx=u.indexOf("start"),a.endIdx=u.indexOf("end"),a.textIdx=u.length-1,a);return(s=s.filter(function(n){if(n.split(":")[0].match(/Dialogue\s*/i))return n})).map(function(n){return function(n,e,t){var i=o("dialogue",n),a=r(i[e.startIdx]),u=r(i[e.endIdx]),s=i.slice(e.textIdx).join(", ");return t&&(s=function(n){return n.split(/{\\[^}]*}/g).join("")}(s)),{start:a,end:u,text:s}}(n,c,e)})},ssaTimeToMsec:r,parseLine:o,stripHeading:i}},function(n,e,t){"use strict";var r=t(1),i=t(0);n.exports={parse:r.parseSsa,stringify:i.toSsa,toMS:r.ssaTimeToMsec,toSsaTime:i.msecToSsaTime}}])});
//# sourceMappingURL=ssa.bundle.min.js.map